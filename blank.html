<html>
<head>
	<meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Custom HTML5 Video Player</title>
        <meta name="msapplication-TileColor" content="#ffffff">
        <meta name="msapplication-TileImage" content="brand-favicons/ms-icon-144x144.png">
        <meta name="theme-color" content="#ffffff">
        <link rel="icon" href="https://interglobalmedia.github.io/custom-html5-video-player/favicon.ico" />
        <link rel="stylesheet" href="styles.css">
</head>
<body>

    <div class="player" id="pla" onmouseover="toggleRange();" onmouseout="toggleRange();">
        <div id="sizerange" style="position: absolute;top:0px; width: 535px;display:none;">
    <input class="slider" type="range" value="320" min="300" max="1100"  onchange="changeVal(document.getElementsByClassName('slider')[0].value);"></input>
    </div>
    <br>
<video id="myvid" class="player__video viewer"  width="320px" height="auto" style="postion: relative;height: 300px;width: auto;"  src="/ug/ug2k17/cse/phani.rithvij/Downloads/Souleater/Soul_Eater_(Sub)_Episode_001.mp4" type="video/mp4"></video>
<!--<div onmouseout="clearCoor()" style="width: 200px;height: 200px; background-color:#E8EDF2" onmousemove="myFunction(event)">
</div>-->

	<div class="player__controls">
			<div class="progress">
				<div class="progress__filled"></div>
			</div>
			<button class="player__button toggle" title="Toggle Play">►</button>
			<input type="range" name="volume" class="player__slider" min="0" max="1" step="0.05" value="1">
			<input type="range" name="playbackRate" class="player__slider" min="0.5" max="2" step="0.1" value="1">
			<button data-skip="-10" class="player__button">« 10s</button>
			<button data-skip="25" class="player__button">25s »</button>
			<button class="full__screen">[⎚]</button>
		</div>
	</div>
<script>
function toggleRange() {
    var x = document.getElementById("sizerange");
    if (x.style.display === "none") {
        x.style.display = "block";
    } else {
        x.style.display = "none";
    }
}
function changeVal(x){
    videoSize(x);
    var p = document.getElementsByTagName('input');
    var f = document.getElementById('sizerange');
    p[0].style.width = x;
    f.style.width = x;
}
function changeSize(id,w,h) {
    var el = document.getElementById(id);
    el.style.height = h;
    el.style.width = w;
}
//function myFunction(e) {
  //var x = e.clientX;
    //var y = e.clientY;
    //    document.getElementById('chartdiv').style.width = x;
  //  document.getElementById('chartdiv').style.height = y;
    //changeSize("myvid",x,y);
    //var coor = "Coordinates: (" + x + "," + y + ")";
    //document.getElementById("demo").innerHTML = coor;
//    console.log(coor);
//}
function showCoords(event) {
    var x = event.pageX;
    var y = event.pageY;
	if ( x < 1114){
	videoSize(x);
	}
    var coords = "X coords: " + x + ", Y coords: " + y;
    document.getElementById("demo").innerHTML = coords;
}
//undefined
function videoSize(x){
	if (x < 1100){
    changeSize("myvid",x,"auto");   
}
}
function clearCoor() {
    document.getElementById("demo").innerHTML = "";
}
</script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<script src="custom-video.js"></script>
    <script type="text/javascript">
    var div = document.querySelector('#pla');
    //div.addEventListener("onresize",resized);
    function changeSize(id,w,h) {
    var el = document.getElementById(id);
    el.style.height = h + "px";
    el.style.width = w + "px";
}
    var oldh = parseInt(div.style.height);
    var oldw = parseInt(div.style.width);
    div.addEventListener("click", touchhandler(event),false);
    //while (true){
        //window.addEventListener('load', 
        function touchhandler(e) {
         //   e.preventDefault();
            if ( oldh != parseInt(div.style.height) || oldw != parseInt(div.style.width)){
    
    oldh = parseInt(div.style.height);
    oldw = parseInt(div.style.width);
    //console.log(oldw,oldh);
    changeSize('myvid',oldw,oldh);
    }else{
    //  console.log("NOCHANGE");

    }//}, false);
}
    //window.onload = function () {
        

    //resized();
//}
</script>
</body></html>
